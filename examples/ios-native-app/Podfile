# ==============================================================================
# Native iOS App - React Native Brownfield Integration Example
# ==============================================================================
#
# This demonstrates how a REAL native iOS app consumes the packaged
# React Native framework (XCFramework).
#
# Prerequisites:
# 1. Build the XCFramework first:
#    cd MyRNFramework && npm run package:ios
# 2. Copy MyRNFramework.xcframework to Frameworks/ folder
# 3. Run: pod install
#
# ==============================================================================

platform :ios, '14.0'

target 'RNBridgeDemo' do
  use_frameworks! :linkage => :static
  
  # React Native Brownfield library
  # Provides: ReactNativeBrownfield, ReactNativeView, ReactNativeViewController
  pod 'ReactBrownfield', :git => 'https://github.com/callstack/react-native-brownfield.git', :tag => '1.2.0'
  
  post_install do |installer|
    installer.pods_project.targets.each do |target|
      target.build_configurations.each do |config|
        config.build_settings['IPHONEOS_DEPLOYMENT_TARGET'] = '14.0'
        config.build_settings['BUILD_LIBRARY_FOR_DISTRIBUTION'] = 'YES'
      end
    end
  end
end

# ==============================================================================
# Framework Integration Steps
# ==============================================================================
#
# After `npm run package:ios` in MyRNFramework/:
#   → MyRNFramework.xcframework (React Native runtime + JS bundle)
#
# Integration:
# 1. Drag MyRNFramework.xcframework into Xcode
# 2. Target → "Frameworks, Libraries, and Embedded Content" → "Embed & Sign"
# 3. pod install
# 4. Build and run!
#
# Usage in Swift:
#   import ReactBrownfield
#   ReactNativeBrownfield.shared.startReactNative { print("Loaded") }
#   ReactNativeView(moduleName: "MyRNFramework")  // SwiftUI
#   ReactNativeViewController(moduleName: "MyRNFramework")  // UIKit
#
# ==============================================================================

